<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poorhub Commands</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #121212; /* Dark background */
            color: #e4e4e7; /* Light text */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            text-align: center;
        }

        h1 {
            font-size: 3em;
            margin-top: 50px;
            margin-bottom: 20px;
            color: #ffffff; /* White text */
            font-weight: 500;
        }

        /* Container for category buttons */
        #button-container {
            display: flex;
            flex-wrap: wrap;                  /* Allow buttons to wrap to the next line */
            align-items: center;              /* Center the buttons vertically */
            margin-bottom: 20px;
            background-color: rgba(31, 31, 31, 0.9); /* Box background */
            border-radius: 25px;             /* Rounded corners for the box */
            padding: 10px;                    /* Add some padding inside the box */
            overflow: hidden;                 /* Hide overflow to avoid scroll */
            width: 100%;                      /* Set to 100% to fit the width */
            max-width: 900px;                 /* Maximum width for the button container */
        }

        /* Style for the buttons */
        #buttons {
            display: flex;                   /* Use flexbox */
            justify-content: flex-start;     /* Align buttons to the left */
            flex-wrap: wrap;                 /* Allow buttons to wrap */
            margin: 0;                       /* Remove margin */
        }

        .category-button {
            padding: 10px 20px;
            background-color: #2c2c2e; /* Darker background color */
            color: #ffffff; /* White button text */
            border: 2px solid #444; /* Border color */
            border-radius: 20px; /* Rounded borders */
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s, border-color 0.3s; /* Added border transition */
            font-size: 1.1em;
            text-transform: uppercase;
            margin: 5px; /* Space between buttons */
            white-space: nowrap; /* Prevent text wrapping */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Added shadow for depth */
        }

        .category-button:hover {
            background-color: #3c3c3e; /* Darker hover effect */
            border-color: #6c6c6e; /* Lighter border on hover */
            transform: scale(1.05); /* Slight scale on hover */
        }

        #command-container {
            width: 100%;
            max-width: 1200px;
            padding: 20px;
        }

        .commands {
            display: none;
        }

        .command-category {
            font-size: 2em;
            color: #9b59b6; /* Purple category color */
            margin-bottom: 10px;
        }

        .command-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Responsive grid */
            gap: 20px;
        }

        .command {
            padding: 15px;
            border-radius: 8px;
            background-color: #1f1f1f; /* Darker background */
            color: #e4e4e7;
            font-size: 1em;
            text-align: left; /* Align text to the left */
            transition: background-color 0.3s;
            border: 1px solid #2d2d2d; /* Subtle border */
        }

        .command:hover {
            background-color: #2d2d2d; /* Slightly lighter hover effect */
        }

        .command strong {
            font-size: 1.2em;
            margin-bottom: 5px; /* Space below command name */
            color: #ffffff; /* White command name */
        }

        .command em {
            display: block;
            margin-top: 5px;
            color: #9ca3af; /* Light gray for additional info */
            font-size: 0.9em;
        }

        .poorhub-link {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #9b59b6; /* Purple link */
            font-size: 1.5em;
            text-decoration: none;
        }

        .poorhub-link:hover {
            color: #8e44ad; /* Darker purple on hover */
        }
    </style>
</head>
<body>
    <a href="index.html" class="poorhub-link">Poorhub</a>
    <h1>Commands</h1>

    <div id="button-container">
        <div id="buttons"></div>
    </div>

    <div id="command-container"></div>

    <script>
        let allCommands = []; // Store all commands for filtering

        // Fetch commands from commands.json
        fetch('commands.json')
            .then(response => response.json())
            .then(commands => {
                allCommands = commands;
                const buttons = {};
                const commandContainer = document.getElementById('command-container');

                // Organize commands by category and create buttons
                commands.forEach(command => {
                    const category = command.category;
                    if (!buttons[category]) {
                        buttons[category] = [];
                    }
                    buttons[category].push(command);
                });

                // Create the "All" category button
                const allButton = document.createElement('button');
                allButton.className = 'category-button';
                allButton.textContent = `All (${allCommands.length})`; // Show command count
                allButton.onclick = () => toggleAllCommands();
                document.getElementById('buttons').appendChild(allButton);

                // Create category buttons with counts
                for (const category in buttons) {
                    const commandCount = buttons[category].length; // Get command count for the category
                    const button = document.createElement('button');
                    button.className = 'category-button';
                    button.textContent = `${category} (${commandCount})`; // Show category name and count
                    button.onclick = () => toggleCommands(category);
                    document.getElementById('buttons').appendChild(button);
                }

                // Function to toggle command visibility for a specific category
                function toggleCommands(category) {
                    const allCommandLists = document.querySelectorAll('.commands');
                    allCommandLists.forEach(list => list.style.display = 'none');

                    const commandList = document.getElementById(`commands-${category}`);
                    if (commandList) {
                        commandList.style.display = commandList.style.display === 'block' ? 'none' : 'block';
                    } else {
                        const newCommandList = document.createElement('div');
                        newCommandList.id = `commands-${category}`;
                        newCommandList.className = 'commands';
                        newCommandList.innerHTML = `<h2 class="command-category">${category}</h2>`;

                        const commandDivContainer = document.createElement('div');
                        commandDivContainer.className = 'command-container';

                        buttons[category].forEach(cmd => {
                            const commandDiv = document.createElement('div');
                            commandDiv.className = 'command';
                            commandDiv.innerHTML = `<strong>${cmd.name}</strong><em>${cmd.description}</em><em>Usage: ${cmd.usage}</em><em>Permissions: ${cmd.permissions}</em>`;
                            commandDivContainer.appendChild(commandDiv);
                        });

                        newCommandList.appendChild(commandDivContainer);
                        commandContainer.appendChild(newCommandList);
                        newCommandList.style.display = 'block';
                    }
                }

                // Function to toggle visibility of all commands
                function toggleAllCommands() {
                    const allCommandLists = document.querySelectorAll('.commands');
                    allCommandLists.forEach(list => list.style.display = 'none');

                    const allCommandList = document.createElement('div');
                    allCommandList.id = 'commands-all';
                    allCommandList.className = 'commands';
                    allCommandList.innerHTML = `<h2 class="command-category">All Commands</h2>`;

                    const commandDivContainer = document.createElement('div');
                    commandDivContainer.className = 'command-container';

                    allCommands.forEach(cmd => {
                        const commandDiv = document.createElement('div');
                        commandDiv.className = 'command';
                        commandDiv.innerHTML = `<strong>${cmd.name}</strong><em>${cmd.description}</em><em>Required fields: ${cmd.usage}</em><em>Permissions: ${cmd.permissions}</em>`;
                        commandDivContainer.appendChild(commandDiv);
                    });

                    allCommandList.appendChild(commandDivContainer);
                    commandContainer.appendChild(allCommandList);
                    allCommandList.style.display = 'block';
                }

                // Call toggleAllCommands to display all commands by default
                toggleAllCommands();
            })
            .catch(error => console.error('Error loading commands:', error));

    </script>
</body>
</html>
